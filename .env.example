# Description : .env.example - üìå ConnectWon Environment Íµ¨ÏÑ± ÌÉ¨ÌîåÎ¶ø
# Author : Shiwoo Min
# Date : 2026-01-22
# docker compose --env-file .env -f infra/docker/docker-compose.yml config > /dev/null && echo "OK"

# ------------------------------------------------------
# Í≥µÌÜµ ÏÑ§Ï†ï
# ------------------------------------------------------
NODE_ENV=development
TZ=Asia/Seoul
PM2_CWD=/app/dist/apps/api

# Docker / Compose
DOCKER_BUILDKIT=1
COMPOSE_DOCKER_CLI_BUILD=1
COMPOSE_PROJECT_NAME=connectwon
COMPOSE_FILE=infra/docker/docker-compose.yml

# ------------------------------------------------------
# ÏÑúÎπÑÏä§ Ìè¨Ìä∏
# ------------------------------------------------------
WEB_PORT=3000
ADMIN_PORT=3001
API_PORT=8000
WORKER_PORT=3003
WORKER_METRICS_PORT=3002
NGINX_PORT=80
REDISINSIGHT_PORT=5540
GF_SERVER_HTTP_PORT=3030

# ------------------------------------------------------
# PostgreSQL / Prisma
# ------------------------------------------------------
POSTGRES_HOST=postgres.connectwon.svc.cluster.local
POSTGRES_PORT=5432
POSTGRES_DB=connectwon_db
POSTGRES_USER=your_postgres_user
POSTGRES_PASSWORD=your_postgres_password
PRISMA_LOG_QUERIES=true

DATABASE_URL=postgresql://${POSTGRES_USER}:${POSTGRES_PASSWORD}@${POSTGRES_HOST}:${POSTGRES_PORT}/${POSTGRES_DB}
TEST_DATABASE_URL=postgresql://sw:connect@postgres:5432/connectwon_test

DATABASE_POOL_MIN=2
DATABASE_POOL_MAX=10

# ------------------------------------------------------
# Redis
# ------------------------------------------------------
REDIS_HOST=redis.connectwon.svc.cluster.local
REDIS_PORT=6379
REDIS_PASSWORD=your_redis_password
REDIS_DB=0
REDIS_URL=redis://:${REDIS_PASSWORD}@${REDIS_HOST}:${REDIS_PORT}/${REDIS_DB}

QUEUE_REDIS_DB=1
QUEUE_REDIS_URL=redis://:${REDIS_PASSWORD}@${REDIS_HOST}:${REDIS_PORT}/${QUEUE_REDIS_DB}
TEST_REDIS_URL=redis://:${REDIS_PASSWORD}@${REDIS_HOST}:${REDIS_PORT}/15

# ------------------------------------------------------
# Ïù∏Ï¶ù / ÏÑ∏ÏÖò
# ------------------------------------------------------
JWT_SECRET=your_jwt_secret
JWT_EXPIRES_IN=7d
JWT_REFRESH_SECRET=your_jwt_refresh_secret
JWT_REFRESH_EXPIRES_IN=30d

COOKIE_SECRET=your_cookie_secret
COOKIE_DOMAIN=localhost
COOKIE_SECURE=false
COOKIE_HTTP_ONLY=true
COOKIE_SAME_SITE=lax

SESSION_SECRET=your_session_secret
SESSION_MAX_AGE=86400000

# ------------------------------------------------------
# Ïô∏Î∂Ä API / AI
# ------------------------------------------------------
OPENAI_API_KEY=your_openai_api_key
ANTHROPIC_API_KEY=
HUGGINGFACE_API_KEY=your_huggingface_api_key

# ------------------------------------------------------
# Í≤∞Ï†ú (Stripe)
# ------------------------------------------------------
PAYMENT_PROVIDER=stripe
PAYMENT_CURRENCY=KRW
PAYMENT_TIMEOUT_MINUTES=15
REFUND_POLICY_DAYS=7

STRIPE_PUBLISHABLE_KEY=your_stripe_publishable_key
STRIPE_SECRET_KEY=your_stripe_secret_key
STRIPE_WEBHOOK_SECRET=your_stripe_webhook_secret

# ------------------------------------------------------
# Ïù¥Î©îÏùº / ÏïåÎ¶º
# ------------------------------------------------------
EMAIL_PROVIDER=smtp
SMTP_HOST=smtp.gmail.com
SMTP_PORT=587
SMTP_SECURE=false
SMTP_USER=your_email@gmail.com
SMTP_PASS=your_email_password
SMTP_FROM_EMAIL=your_email@gmail.com
SMTP_FROM_NAME=ConnectWon

SLACK_WEBHOOK_URL=your_slack_webhook_url
SLACK_TOKEN=your_slack_token
SLACK_CHANNEL=your_slack_channel_id

# ------------------------------------------------------
# n8n
# ------------------------------------------------------
N8N_PORT=5678
N8N_HOST=n8n.connectwon.svc.cluster.local
N8N_DB_NAME=n8n
N8N_BASIC_AUTH_ACTIVE=true
N8N_BASIC_AUTH_USER=admin
N8N_BASIC_AUTH_PASSWORD=connect
N8N_ENCRYPTION_KEY=your_n8n_encryption_key
N8N_EXECUTIONS_TIMEOUT=3600
N8N_EXECUTIONS_MAX_TIMEOUT=14400
N8N_RESERVATION_WEBHOOK=http://localhost:5678/webhook/reservation-confirmed
N8N_NOTIFICATION_WEBHOOK=http://localhost:5678/webhook/notification-dispatched

# ------------------------------------------------------
# Î™®ÎãàÌÑ∞ÎßÅ / Î°úÍπÖ
# ------------------------------------------------------
LOG_LEVEL=debug
LOG_FORMAT=pretty
SENTRY_DSN=your_sentry_dsn
NEW_RELIC_APP_NAME=connectwon

GF_SECURITY_ADMIN_USER=admin
GF_SECURITY_ADMIN_PASSWORD=connect
GF_SECURITY_SECRET_KEY=your_grafana_secret

# ------------------------------------------------------
# Feature Flags
# ------------------------------------------------------
FEATURE_AI_RECOMMENDATIONS=true
FEATURE_PAYMENT_GATEWAY=true
FEATURE_EMAIL_NOTIFICATIONS=true
FEATURE_SLACK_NOTIFICATIONS=false
FEATURE_ADVANCED_ANALYTICS=false
FEATURE_BETA_FEATURES=false

# ------------------------------------------------------
# Playwright / ÌÖåÏä§Ìä∏
# ------------------------------------------------------
CI=false
HEADLESS=true
BASE_URL=http://localhost:3000
ACTION_TIMEOUT=30
NAVIGATION_TIMEOUT=60
SLOW_MO=100
BROWSER_LAUNCH_TIMEOUT=60000
START_WEB_SERVER=false
WEB_COMMAND=pnpm dev

TEST_USER_EMAIL=test@connectwon.com
TEST_USER_PASSWORD=test
TEST_ADMIN_EMAIL=admin@connectwon.com
TEST_ADMIN_PASSWORD=admin

# ------------------------------------------------------
# URL / CORS
# ------------------------------------------------------
API_URL=http://localhost:8000
WEB_URL=http://localhost:3000
ADMIN_URL=http://localhost:3001
FRONTEND_URL=http://localhost:3000
BACKEND_URL=http://localhost:8000
CORS_ORIGINS=http://localhost:3000,http://localhost:3001

API_HEALTH_URL=http://localhost:8000/health
WEB_HEALTH_URL=http://localhost:3000
ADMIN_HEALTH_URL=http://localhost:3001

# ------------------------------------------------------
# Analytics / Tracking
# ------------------------------------------------------
GOOGLE_ANALYTICS_ID=
GOOGLE_TAG_MANAGER_ID=
MIXPANEL_TOKEN=

# ------------------------------------------------------
# Social OAuth
# ------------------------------------------------------
GOOGLE_CLIENT_ID=your_google_client_id
GOOGLE_CLIENT_SECRET=your_google_client_secret
KAKAO_CLIENT_ID=
KAKAO_CLIENT_SECRET=
NAVER_CLIENT_ID=
NAVER_CLIENT_SECRET=

# ------------------------------------------------------
# ÎπÑÏ¶àÎãàÏä§ Í∏∞Î≥∏Í∞í
# ------------------------------------------------------
DEFAULT_RESERVATION_DURATION=60
MAX_ADVANCE_BOOKING_DAYS=30
CANCELLATION_DEADLINE_HOURS=24
OVERBOOKING_THRESHOLD=0.1
POINTS_PER_KRW=0.01
SIGNUP_BONUS_POINTS=1000
REFERRAL_BONUS_POINTS=5000

# ------------------------------------------------------
# ÌöåÏÇ¨ / Î°úÏºÄÏùº
# ------------------------------------------------------
COMPANY_NAME=ConnectWon
COMPANY_EMAIL=contact@connectwon.com
COMPANY_PHONE=+82-2-1234-5678
SUPPORT_EMAIL=support@connectwon.com

DEFAULT_TIMEZONE=Asia/Seoul
DATE_FORMAT=YYYY-MM-DD
TIME_FORMAT=HH:mm
DEFAULT_LANGUAGE=ko
SUPPORTED_LANGUAGES=ko,en
USE_I18N=true

# ------------------------------------------------------
# Firebase (Web/Admin)
# ------------------------------------------------------
NEXT_PUBLIC_FIREBASE_WEB_API_KEY=your_firebase_web_api_key
NEXT_PUBLIC_FIREBASE_WEB_AUTH_DOMAIN=connectwon-fb.firebaseapp.com
NEXT_PUBLIC_FIREBASE_WEB_PROJECT_ID=connectwon-fb
NEXT_PUBLIC_FIREBASE_WEB_STORAGE_BUCKET=connectwon-fb.firebasestorage.googleapis.com
NEXT_PUBLIC_FIREBASE_WEB_MESSAGING_SENDER_ID=115173039797
NEXT_PUBLIC_FIREBASE_WEB_APP_ID=1:115173039797:web:4354f1927505fdb01da8fc
NEXT_PUBLIC_FIREBASE_WEB_MEASUREMENT_ID=G-S0C4V94X7Y

NEXT_PUBLIC_FIREBASE_ADMIN_API_KEY=your_firebase_admin_api_key
NEXT_PUBLIC_FIREBASE_ADMIN_AUTH_DOMAIN=connectwon-fb.firebaseapp.com
NEXT_PUBLIC_FIREBASE_ADMIN_PROJECT_ID=connectwon-fb
NEXT_PUBLIC_FIREBASE_ADMIN_STORAGE_BUCKET=connectwon-fb.firebasestorage.googleapis.com
NEXT_PUBLIC_FIREBASE_ADMIN_MESSAGING_SENDER_ID=115173039797
NEXT_PUBLIC_FIREBASE_ADMIN_APP_ID=1:115173039797:web:f93c1d7d0b3b3c981da8fc
NEXT_PUBLIC_FIREBASE_ADMIN_MEASUREMENT_ID=G-0EC70QCX6Q

# ------------------------------------------------------
# NX Cloud
# ------------------------------------------------------
NX_CLOUD_ACCESS_TOKEN=your_nx_cloud_access_token
