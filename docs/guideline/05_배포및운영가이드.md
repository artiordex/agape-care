# 1. 기존 이미지와 컨테이너 정리
docker stop connectwon-api 2>/dev/null || true
docker rm connectwon-api 2>/dev/null || true
docker rmi connectwon-api 2>/dev/null || true

# 2. Docker 빌드 캐시 완전 정리
docker builder prune -f

# 3. 캐시 없이 완전 새로 빌드
docker build --no-cache -f Dockerfile.api -t connectwon-api .

start ms-settings:developers

wsl -d Ubuntu

sudo certbot certonly --standalone \
  -d connectwon-web.duckdns.org \
  -d connectwon-api.duckdns.org \
  -d connectwon-admin.duckdns.org

# 멈춘 컨테이너 정리
docker compose -p connectwon down

# 네트워크/볼륨 남은거 정리
docker system prune -af --volumes

# 빌드 캐시도 싹 정리
docker builder prune -af

kubectl cluster-info
kubectl get nodes
kubectl config current-context
kubectl config get-contexts
kubectl get pods -A

dxdiag 메모리 32RAM

kube-system 네임스페이스의 기본 컴포넌트들

coredns

클러스터 내부 DNS 서버

Pod 이름 → IP 주소 변환 같은 서비스 디스커버리 담당

etcd

쿠버네티스의 Key-Value 저장소(DB)

클러스터 상태(노드, Pod, ConfigMap, Secret 등)를 전부 저장

kube-apiserver

쿠버네티스의 중앙 API 서버

클러스터의 관문 역할.

kube-controller-manager

다양한 컨트롤러(ReplicaSet, Deployment, Job 등)를 실행하는 관리자

원하는 상태(Desired State)와 실제 상태를 동기화

kube-scheduler

새로운 Pod을 어떤 노드에 배치할지 결정

노드 리소스(CPU/메모리), affinity/taint, 우선순위 등을 고려

kube-proxy

클러스터 네트워크 라우팅 담당

Service → Pod 트래픽을 올바른 엔드포인트로 전달 (IPVS, iptables 사용)

storage-provisioner

동적 볼륨 프로비저닝 담당

PVC(PersistentVolumeClaim)를 생성하면 실제 스토리지 볼륨을 만들어 줌

Docker Desktop Kubernetes는 hostpath 기반 StorageClass를 제공

vpnkit-controller

Docker Desktop 전용 컴포넌트

Windows/Mac 환경에서 쿠버네티스 Pod 네트워킹을 안정적으로 연결하기 위한 브릿지


kubectl create namespace argocd
kubectl apply -n argocd -f https://raw.githubusercontent.com/argoproj/argo-cd/stable/manifests/install.yaml


kubectl get ns | grep argocd
kubectl get svc -n argocd


kubectl get secret -n connectwon

네임스페이스 생성
kubectl create namespace connectwon
kubectl cluster-info
kubectl get nodes

kubectl port-forward svc/argocd-server -n argocd 8080:443
kubectl -n argocd get svc argocd-server

curl -vk https://kubernetes.docker.internal:6443/version

kubectl config view --raw | grep client-certificate-data
kubectl config view --raw | grep client-key-data
kubectl get nodes


Set-ExecutionPolicy Bypass -Scope Process -Force; `
[System.Net.ServicePointManager]::SecurityProtocol = `
[System.Net.ServicePointManager]::SecurityProtocol -bor 3072; `
iex ((New-Object System.Net.WebClient).DownloadString('https://community.chocolatey.org/install.ps1'))


https://zerozoo-a.github.io/blog/env/docker-compose-nestjs-typescript/


$ npx tsc --version
Version 5.9.2
https://codesandbox.io/


pnpm dlx rimraf apps/admin/.next apps/admin/dist node_modules/.cache
pnpm nx reset
pnpm nx run @connectwon/admin:build --skip-nx-cache

pnpm exec firebase target:apply hosting connectwon-web connectwon-fb
pnpm exec firebase target:apply hosting connectwon-admin connectwon-fb-admin

https://cloud.google.com/sdk/docs/install


pnpm -w exec tsc --noEmit --showConfig > /dev/null

pnpm nx serve web
pnpm nx serve admin
