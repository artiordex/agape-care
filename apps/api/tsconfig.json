/**
 * Description : tsconfig.json - π“ ConnectWon NestJS κΈ°λ° API μ„λ²„ (TypeScript μ„¤μ •)
 * Author : Shiwoo Min
 * Date : 2025-09-06
 * 09-12 - NodeNext + ES2022 μ΅°ν•© (NestJS ESM μ™„μ „ νΈν™)
 * 09-22 - μ†μ¤λ§µ + μ¦λ¶„ λΉλ“ ν™μ„±ν™” (Cloud Run λ””λ²„κΉ… λ€μ‘)
 * 10-09 - Docker / Cloud Run / Firebase / Azure / Local μ™„μ „ νΈν™ λ²„μ „
 */

{
  // λ£¨νΈμ tsconfig.base.json μƒμ†
  "extends": "../../tsconfig.base.json",

  "compilerOptions": {
    // λΉλ“ μ…μ¶λ ¥
    "rootDir": "./src",
    "outDir": "../../dist/apps/api",
    "tsBuildInfoFile": "../../dist/apps/api/.tsbuildinfo",

    // λ¨λ“ μ‹μ¤ν… λ° νƒ€κ²
    "target": "es2022",
    "module": "nodenext",
    "moduleResolution": "nodenext",
    "lib": ["es2022"],
    "types": ["node"],

    // ESM νΈν™
    "esModuleInterop": true,
    "allowSyntheticDefaultImports": true,
    "resolveJsonModule": true,

    // μ„ μ–Έ λ° λ””λ²„κΉ…
    "declaration": true,
    "declarationMap": true,
    "sourceMap": true,
    "inlineSources": false,

    // μ„±λ¥ λ° μ•μ •μ„±
    "skipLibCheck": true,
    "forceConsistentCasingInFileNames": true,
    "incremental": true,

    // NestJS λ°μ½”λ μ΄ν„° νΈν™
    "experimentalDecorators": true,
    "emitDecoratorMetadata": true,
    "isolatedModules": false,

    // κ²½λ΅ ν•΄μ„ (Nx μλ™ μ²λ¦¬)
    "baseUrl": ".",
    "paths": {
      "@connectwon/*": ["../../packages/*/src"]
    },

    // μ—„κ²©μ„±
    "strict": true,
    "noUnusedLocals": false,
    "noUnusedParameters": false
  },

  "include": ["src/**/*", "src/**/*.d.ts"],
  "exclude": ["node_modules", "dist", "**/*.spec.ts", "**/*.test.ts"],

  "references": [
    { "path": "../../packages/core" },
    { "path": "../../packages/database" },
    { "path": "../../packages/logger" },
    { "path": "../../packages/api-contract" }
  ]
}
