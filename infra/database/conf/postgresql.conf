# Description : postgresql.conf - ğŸ“Œ PostgreSQL ê¸°ë³¸ ì„¤ì •
# Author : Shiwoo Min
# Date : 2026-01-22

# ì™¸ë¶€ ì ‘ê·¼ í—ˆìš©
listen_addresses = '*'
port = 5432

# ì—°ê²° ìˆ˜ ë° ìì›
max_connections = 100

# ë¡œê¹…
logging_collector = on
log_directory = 'pg_log'
log_filename = 'postgresql.log'
log_line_prefix = '%m [%p] %u@%d %r '
# ëª¨ë“  ì¿¼ë¦¬ ê¸°ë¡: 'all', ì¤‘ìš” ì¿¼ë¦¬ë§Œ: 'mod', ê¸°ë¡ ì•ˆí•¨: 'none'
log_statement = 'none'
log_timezone = 'Asia/Seoul'

# MVP/ê°œë°œ ë‹¨ê³„ ê¸°ì¤€
shared_buffers = 256MB
work_mem = 4MB
maintenance_work_mem = 64MB

# íƒ€ì„ì¡´ ë° ë¡œìº˜
timezone   = 'Asia/Seoul'
lc_messages = 'en_US.UTF-8'
lc_monetary = 'en_US.UTF-8'
lc_numeric  = 'en_US.UTF-8'
lc_time     = 'en_US.UTF-8'

# ë¬¸ìì…‹ ë° ì¸ì½”ë”© (â˜… ë¬¸ìì—´, ë”°ì˜´í‘œ í•„ìˆ˜)
client_encoding = 'UTF8'

# ê°œë°œ ì „ìš© (ìš´ì˜ ì „í™˜ ì‹œ ë°˜ë“œì‹œ ì›ë³µ)
fsync = off
synchronous_commit = off
full_page_writes = off

# ì¸ì¦ í•´ì‹œ ì •ì±…
password_encryption = 'scram-sha-256'

# í™•ì¥ ê´€ë ¨
shared_preload_libraries = 'pg_stat_statements'
pg_stat_statements.max   = 5000
pg_stat_statements.track = all
pg_stat_statements.save  = on

# ë°±ì—…ìš© WAL ì„¤ì •
# wal_level = minimal, replica, logical
wal_level = replica
